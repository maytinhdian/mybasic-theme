@use "../abstracts/" as *;

$product-card-bg: #0d0d0d; // đen
$product-card-primary: theme-color("brand"); // vàng
$product-card-text: theme-color("text");

.product-card--yb {
  display: flex;
  height: 45rem;
  flex-direction: column;
  /* khoảng đệm đáy cố định 0.75rem */
  padding-bottom: 0.75rem;

  .product-card {
    &__media {
      position: relative;
      // background: #111;
      overflow: hidden;
    }

    // &__badge {
    //   position: absolute;
    //   top: 0.75rem;
    //   left: 0.75rem;
    //   padding: 0.25rem 0.5rem;
    //   font-size: 0.75rem;
    //   font-weight: 700;
    //   border-radius: 6px;
    //   &--sale {
    //     background: red;
    //     color: whitesmoke;
    //     font-size: 1.85rem;
    //   }
    //   &--oos {
    //     background: #444;
    //     color: #ddd;
    //     left: auto;
    //     right: 0.75rem;
    //   }
    // }

    &__image img {
      display: block;
      border-radius: 6px;
      width: 100%;
      height: auto;
      transition: transform 0.35s ease;
    }

    &__image:hover img {
      transform: scale(1.05);
    }

    &__title {
      margin: 0.75rem 0 0;
      font-size: 1.05rem;
      font-weight: 600;
      a {
        color: $product-card-primary;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
    }

    &__meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    &__price {
      color: $product-card-text;
      font-weight: 800;
      font-size: 1rem; // cỡ cho giá đang bán (ins hoặc giá thường)

      // Giá gốc (khi on-sale): mờ & nhỏ hơn
      del {
        opacity: 0.6; // muted
        color: #b7b7b7; // có màu riêng để rõ hơn trên nền tối
        font-weight: 600; // nhẹ hơn giá hiện
        font-size: 1.16rem; // nhỏ hơn một nấc
        margin-right: 0.5rem;
        text-decoration: line-through;

        .amount {
          // WooCommerce bọc số trong .amount
          opacity: 0.85;
        }
      }

      // Giá hiện tại
      ins {
        color: $product-card-primary; // nhấn vàng cho giá bán
        text-decoration: none;
        font-weight: 900;
        font-size: 1.26rem; // nhỉnh hơn base một chút

        .amount {
          letter-spacing: 0.2px;
        }
      }

      // Trường hợp KHÔNG on-sale (WooCommerce chỉ in <span class="price">xxx</span>)
      > .amount {
        color: $product-card-primary; // nhấn vàng cho giá bán
        font-size: 1.26rem; // nhỉnh hơn base một chút
        font-weight: 800;
      }
    }

    &__actions {
      margin: 0 0.75rem;
      .button {
        width: 100%;
        background: $product-card-primary;
        color: #111;
        border: none;
        border-radius: 8px;
        // padding: 0.3rem 0.2rem;
        font-weight: 700;
        text-transform: uppercase;
        transition: filter 0.2s ease;
        /* canh giữa text tuyệt đối */
        display: flex !important;
        align-items: center;
        justify-content: center;

        /* chiều cao nút ổn định (tuỳ chọn) */
        min-height: 44px; /* tăng hit-area */
        /* giữ style vàng–đen của bạn */
        text-align: center; /* dự phòng nếu theme override display */
      }
      .button:hover {
        filter: brightness(0.9);
      }
      .added_to_cart {
        display: inline-block;
        margin-top: 0.5rem;
        color: $product-card-primary;
        & a {
          text-align: center;
        }
      }
    }
  }

  // khối bao quanh (li .product) từ template gốc
  background: $product-card-bg;
  border: 1px solid rgba($product-card-primary, 0.6);
  border-radius: 12px;
  padding: 0.75rem;
  transition: box-shadow 0.25s ease, transform 0.25s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 28px rgba($product-card-primary, 0.25);
  }
}
